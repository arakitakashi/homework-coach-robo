{
	"$schema": "https://json-schema.org/draft/2020-12/schema#",
	"hooks": {
		"PostToolUse": [
			{
				"matcher": "Write|Edit|MultiEdit",
				"hooks": [
					{
						"type": "command",
						"command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/auto-format.sh",
						"timeout": 30
					}
				]
			}
		]
	},
	"model": "sonnet",
	"permissions": {
		"allow": [
			"Bash(git status *)",
			"Bash(git diff *)",
			"Bash(git log *)",
			"Bash(git branch *)",
			"Bash(git show *)",
			"Bash(npm test *)",
			"Bash(npm run test *)",
			"Bash(npm run lint *)",
			"Bash(pytest *)",
			"Bash(python -m pytest *)",
			"Bash(uv run pytest *)",
			"Bash(uv run ruff *)",
			"Bash(uv run mypy *)",
			"Bash(uv run *)",
			"Bash(uv sync *)",
			"Bash(uv pip *)",
			"Bash(python *)",
			"Bash(python3 *)",
			"Bash(bun test *)",
			"Bash(bun run *)",
			"Bash(bun install)",
			"Bash(bunx *)",
			"Bash(vitest *)",
			"Bash(git checkout -b feature/*)",
			"Bash(git checkout -b fix/*)",
			"Bash(git checkout -b refactor/*)",
			"Bash(git checkout -b docs/*)",
			"Bash(git checkout -b hotfix/*)",
			"Bash(git checkout -b chore/*)",
			"Bash(git checkout *)",
			"Bash(git switch *)",
			"Bash(git restore *)",
			"Bash(git stash *)",
			"Bash(git fetch *)",
			"Bash(git pull *)",
			"Bash(git add *)",
			"Bash(git commit *)",
			"Bash(git push origin feature/*)",
			"Bash(git push origin fix/*)",
			"Bash(git push origin refactor/*)",
			"Bash(git push origin docs/*)",
			"Bash(git push origin hotfix/*)",
			"Bash(git push origin chore/*)",
			"Bash(git push -u origin feature/*)",
			"Bash(git push -u origin fix/*)",
			"Bash(git push -u origin refactor/*)",
			"Bash(git push -u origin docs/*)",
			"Bash(git push -u origin hotfix/*)",
			"Bash(git push -u origin chore/*)",
			"Bash(gh pr create *)",
			"Bash(gh pr view *)",
			"Bash(gh pr list *)",
			"Bash(echo *)",
			"Bash(cat *)",
			"Bash(ls *)",
			"Bash(pwd)",
			"Bash(find *)",
			"Bash(grep *)",
			"Bash(sed *)",
			"Bash(awk *)",
			"Bash(touch *)",
			"Bash(mkdir *)",
			"Bash(cp * *)",
			"Bash(mv * *)",
			"Bash(cd *)",
			"Bash(head *)",
			"Bash(tail *)",
			"Bash(wc *)",
			"Bash(sort *)",
			"Bash(uniq *)",
			"Bash(diff *)",
			"Bash(which *)",
			"Bash(whereis *)",
			"Bash(env)",
			"Bash(printenv *)",
			"Bash(date)",
			"Bash(whoami)",
			"Bash(hostname)",
			"Bash(tree *)",
			"Bash(less *)",
			"Bash(more *)"
		],
		"ask": [
			"Bash(gcloud * --project=*prod*)",
			"Bash(gcloud run deploy * --project=*prod*)",
			"Bash(gcloud firestore * --project=*prod*)",
			"Bash(firebase deploy --project *prod*)",
			"Bash(bq query * DELETE)",
			"Bash(bq query * DROP)",
			"Bash(bq rm *)",
			"Bash(git push * main)",
			"Bash(git push * develop)",
			"Bash(git merge main)",
			"Bash(git merge develop)",
			"Bash(npm install --save *)",
			"Bash(npm install *)",
			"Bash(bun add *)",
			"Bash(pip install *)",
			"Bash(uv add *)",
			"Bash(docker run --privileged)",
			"Bash(chmod 777 *)",
			"Bash(sudo *)",
			"Bash(ssh *)",
			"Bash(scp *)",
			"Bash(rsync *)"
		],
		"deny": [
			"Bash(rm -rf /)",
			"Bash(rm -rf ~)",
			"Bash(rm -rf .)",
			"Bash(rm -rf ./*)",
			"Bash(rm -rf *)",
			"Bash(> /dev/sda)",
			"Bash(dd if=/dev/zero)",
			"Bash(mkfs.ext4)",
			"Bash(:(){ :|:& };:)",
			"Bash(git push --force origin main)",
			"Bash(git push --force origin develop)",
			"Bash(git push -f origin main)",
			"Bash(git push -f origin develop)",
			"Bash(git reset --hard origin/main)",
			"Bash(git reset --hard origin/develop)",
			"Bash(gcloud sql instances delete)",
			"Bash(gcloud compute instances delete)",
			"Bash(gcloud run services delete homework-coach-prod)",
			"Bash(gcloud projects delete)",
			"Bash(firebase firestore:delete --all-collections)",
			"Bash(bq rm -r -f)",
			"Bash(npm publish)",
			"Bash(pypi upload)",
			"Bash(curl *)",
			"Bash(wget *)",
			"Bash(nc *)",
			"Bash(ncat *)",
			"Bash(netcat *)",
			"Bash(telnet *)",
			"Read(./.env)",
			"Read(./.env.*)",
			"Read(./secrets/**)",
			"Read(./config/credentials.json)",
			"Read(~/.ssh/**)",
			"Read(~/.aws/credentials)",
			"Read(~/.aws/config)",
			"Read(~/.config/gcloud/**)",
			"Read(~/.netrc)",
			"Read(**/*-service-account.json)",
			"Read(**/firebase-adminsdk-*.json)",
			"Read(~/.kube/config)",
			"Read(~/.docker/config.json)"
		]
	},
	"sandbox": {
		"enabled": true,
		"autoAllowBashIfSandboxed": true,
		"excludedCommands": ["docker", "gh"],
		"allowUnsandboxedCommands": true,
		"network": {
			"allowedDomains": [
				"github.com",
				"*.github.com",
				"registry.npmjs.org",
				"*.npmjs.org",
				"registry.terraform.io",
				"*.googleapis.com",
				"pypi.org",
				"files.pythonhosted.org",
				"api.anthropic.com"
			]
		}
	}
}
