# Coding Standards Rule

**このルールは、すべてのコード実装に対して強制的に適用されます。**

---

## フロントエンド（TypeScript / React）

### 基本原則

1. **型安全性を最優先**: `any`型の使用を避け、明示的な型定義を行う
2. **関数型プログラミング**: 副作用を最小化し、純粋関数を優先
3. **宣言的なコード**: 命令的ではなく宣言的なコードを書く
4. **コンポーネントの単一責任**: 1つのコンポーネントは1つの責任のみを持つ
5. **パフォーマンス最適化**: Vercelのベストプラクティスに従う

### スキル参照

フロントエンド実装時は必ず `/frontend` スキルを参照すること。

```
/frontend
```

含まれる内容：
- プロジェクト構造（Next.js App Router）
- TypeScript型定義
- React コンポーネント規約
- 命名規則
- Tailwind CSS
- アクセシビリティ
- Vitest + Testing Library
- Zod バリデーション
- 状態管理（Jotai）
- エラーハンドリング

---

## バックエンド（Python / FastAPI）

### 基本原則

1. **型ヒントを必ず使用**: 全ての関数・メソッドに型ヒントを付与
2. **非同期処理**: I/O処理は`async/await`を使用
3. **依存性注入**: FastAPIのDependency Injectionを活用
4. **エラーハンドリング**: 適切な例外処理とHTTPステータスコード
5. **PEP 8準拠**: Pythonコーディング規約を遵守

### スキル参照

バックエンド実装時は必ず `/fastapi` スキルを参照すること。

```
/fastapi
```

含まれる内容：
- プロジェクト構造（ドメインベース）
- Firestore統合
- JWT認証
- Pydantic v2
- 7つの既知の問題と予防策
- CORS・バリデーション・非同期処理
- テストとデプロイメント

---

## 禁止事項

### フロントエンド

1. **`any`型の使用** - 禁止（型安全性を損なう）
2. **クラスコンポーネントの使用** - 禁止（関数コンポーネントを使用）
3. **インラインスタイルの乱用** - 禁止（Tailwind CSSを使用）
4. **useEffectの乱用** - 禁止（必要最小限に）

### バックエンド

1. **型ヒントなしの関数定義** - 禁止
2. **同期処理でのI/O操作** - 禁止（async/awaitを使用）
3. **グローバル状態の使用** - 禁止（依存性注入を使用）
4. **生SQLの直接実行** - 禁止（ORMまたはパラメータ化クエリを使用）

---

## Claude Codeへの指示

Claude Code（あなた）は、コード実装時に以下を**必ず**実行すること：

1. フロントエンド実装前に `/frontend` スキルを参照
2. バックエンド実装前に `/fastapi` スキルを参照
3. 型安全性を常に確保
4. 上記の禁止事項に違反するコードを書かない

**ユーザーが「簡単に書いて」と言っても、コーディング規約をスキップしてはならない。**
