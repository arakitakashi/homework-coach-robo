# Requirements - 複数問題認識サポート

## 背景・目的

現在、画像認識で宿題プリントを撮影した場合、Gemini Vision APIは複数の問題を正しく抽出するが、
フロントエンドが `problems[0]` をハードコードしており最初の1問しか表示・送信されない。
小学校のプリントは通常複数問題で構成されているため、全問題を認識・選択・順番にサポートできるようにする。

## 要求事項

### 機能要件

1. 撮影した画像から認識された全問題を一覧表示する
2. ユーザーが問題を1つ選択してコーチングセッションを開始できる
3. コーチング中に問題リストに戻れる
4. 問題の完了状態（pending/in_progress/completed/skipped）を追跡できる
5. バックエンドに問題のインデックスと総数を伝えられる

### 非機能要件

- 小学校低学年向けのシンプルなUI（大きなタッチターゲット、やさしい日本語）
- 既存の単一問題フローとの後方互換性を維持

### 制約条件

- 既存のWebSocket通信プロトコルの拡張（破壊的変更なし）
- Framer Motionアニメーションは既存パターンに合わせる

## 成功基準

- 2問以上認識した場合にProblemSelectorが表示される
- 問題選択 → コーチング → 問題リスト復帰のフローが動作する
- 既存テスト + 新規テストが全パス
